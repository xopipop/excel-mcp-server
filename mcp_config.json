{
  "mcpServers": {
    "pc-control-mcp": {
      "command": "python",
      "args": ["pc_control_mcp.py"],
      "env": {
        "PYTHONPATH": ".",
        "PC_CONTROL_MCP_LOG_LEVEL": "INFO"
      }
    }
  },
  "tools": [
    {
      "name": "execute_command",
      "description": "Execute system commands with timeout and security controls",
      "parameters": {
        "command": {
          "type": "string",
          "required": true,
          "description": "Command to execute"
        },
        "working_directory": {
          "type": "string",
          "required": false,
          "description": "Working directory for command execution"
        },
        "timeout": {
          "type": "integer",
          "required": false,
          "default": 30,
          "description": "Timeout in seconds"
        }
      }
    },
    {
      "name": "file_operations",
      "description": "File system operations (read, write, delete, copy, move, etc.)",
      "parameters": {
        "operation": {
          "type": "string",
          "required": true,
          "enum": ["read", "write", "delete", "create_dir", "list_dir", "copy", "move", "rename"],
          "description": "Type of file operation"
        },
        "path": {
          "type": "string",
          "required": true,
          "description": "Path to file or directory"
        },
        "content": {
          "type": "string",
          "required": false,
          "description": "Content for write operation"
        },
        "destination": {
          "type": "string",
          "required": false,
          "description": "Destination path for copy/move operations"
        },
        "encoding": {
          "type": "string",
          "required": false,
          "default": "utf-8",
          "description": "File encoding"
        }
      }
    },
    {
      "name": "system_info",
      "description": "Get system information (CPU, memory, disk, network, etc.)",
      "parameters": {
        "info_type": {
          "type": "string",
          "required": true,
          "enum": ["cpu", "memory", "disk", "processes", "network", "hardware", "os_info"],
          "description": "Type of system information to retrieve"
        }
      }
    },
    {
      "name": "process_management",
      "description": "Manage system processes",
      "parameters": {
        "action": {
          "type": "string",
          "required": true,
          "enum": ["list", "kill", "start", "suspend", "resume", "get_info"],
          "description": "Process management action"
        },
        "pid": {
          "type": "integer",
          "required": false,
          "description": "Process ID"
        },
        "name": {
          "type": "string",
          "required": false,
          "description": "Process name"
        },
        "signal": {
          "type": "string",
          "required": false,
          "default": "SIGTERM",
          "enum": ["SIGTERM", "SIGKILL"],
          "description": "Signal to send when killing process"
        }
      }
    },
    {
      "name": "network_operations",
      "description": "Network operations (ping, port scan, DNS lookup, etc.)",
      "parameters": {
        "operation": {
          "type": "string",
          "required": true,
          "enum": ["ping", "port_scan", "connection_info", "dns_lookup"],
          "description": "Type of network operation"
        },
        "target": {
          "type": "string",
          "required": false,
          "description": "Target host or IP address"
        },
        "port": {
          "type": "integer",
          "required": false,
          "description": "Port number for scanning"
        },
        "count": {
          "type": "integer",
          "required": false,
          "default": 4,
          "description": "Number of pings"
        },
        "timeout": {
          "type": "integer",
          "required": false,
          "default": 5,
          "description": "Operation timeout in seconds"
        }
      }
    },
    {
      "name": "registry_operations",
      "description": "Windows Registry operations",
      "parameters": {
        "operation": {
          "type": "string",
          "required": true,
          "enum": ["read_key", "write_key", "delete_key", "list_subkeys"],
          "description": "Registry operation type"
        },
        "hive": {
          "type": "string",
          "required": true,
          "enum": ["HKEY_LOCAL_MACHINE", "HKEY_CURRENT_USER", "HKEY_CLASSES_ROOT", "HKEY_USERS", "HKEY_CURRENT_CONFIG"],
          "description": "Registry hive"
        },
        "key_path": {
          "type": "string",
          "required": true,
          "description": "Registry key path"
        },
        "value_name": {
          "type": "string",
          "required": false,
          "description": "Registry value name"
        },
        "value_data": {
          "type": "any",
          "required": false,
          "description": "Registry value data"
        },
        "value_type": {
          "type": "string",
          "required": false,
          "default": "REG_SZ",
          "enum": ["REG_SZ", "REG_DWORD", "REG_BINARY", "REG_EXPAND_SZ", "REG_MULTI_SZ"],
          "description": "Registry value type"
        }
      }
    },
    {
      "name": "service_management",
      "description": "Manage system services",
      "parameters": {
        "action": {
          "type": "string",
          "required": true,
          "enum": ["list", "start", "stop", "restart", "status", "configure"],
          "description": "Service management action"
        },
        "service_name": {
          "type": "string",
          "required": false,
          "description": "Service name"
        },
        "startup_type": {
          "type": "string",
          "required": false,
          "enum": ["auto", "manual", "disabled"],
          "description": "Service startup type"
        }
      }
    },
    {
      "name": "environment_management",
      "description": "Manage environment variables",
      "parameters": {
        "action": {
          "type": "string",
          "required": true,
          "enum": ["list", "get", "set", "delete"],
          "description": "Environment variable action"
        },
        "name": {
          "type": "string",
          "required": false,
          "description": "Variable name"
        },
        "value": {
          "type": "string",
          "required": false,
          "description": "Variable value"
        },
        "scope": {
          "type": "string",
          "required": false,
          "default": "user",
          "enum": ["user", "system"],
          "description": "Variable scope (Windows only)"
        }
      }
    },
    {
      "name": "scheduled_tasks",
      "description": "Manage scheduled tasks",
      "parameters": {
        "action": {
          "type": "string",
          "required": true,
          "enum": ["list", "create", "delete", "run", "info"],
          "description": "Scheduled task action"
        },
        "task_name": {
          "type": "string",
          "required": false,
          "description": "Task name"
        },
        "command": {
          "type": "string",
          "required": false,
          "description": "Command to execute"
        },
        "schedule": {
          "type": "string",
          "required": false,
          "enum": ["daily", "weekly", "once", "startup"],
          "description": "Task schedule"
        },
        "description": {
          "type": "string",
          "required": false,
          "description": "Task description"
        }
      }
    },
    {
      "name": "backup_operations",
      "description": "Backup and restore operations",
      "parameters": {
        "operation": {
          "type": "string",
          "required": true,
          "enum": ["create", "restore", "list"],
          "description": "Backup operation type"
        },
        "source": {
          "type": "string",
          "required": true,
          "description": "Source path for backup/restore"
        },
        "destination": {
          "type": "string",
          "required": false,
          "description": "Destination path"
        },
        "compress": {
          "type": "boolean",
          "required": false,
          "default": true,
          "description": "Compress backup"
        },
        "include_pattern": {
          "type": "string",
          "required": false,
          "description": "Include files matching pattern"
        },
        "exclude_pattern": {
          "type": "string",
          "required": false,
          "description": "Exclude files matching pattern"
        }
      }
    },
    {
      "name": "automation_tools",
      "description": "GUI automation tools (requires pyautogui)",
      "parameters": {
        "action": {
          "type": "string",
          "required": true,
          "enum": ["mouse_move", "mouse_click", "type_text", "press_key", "screenshot", "get_position", "get_screen_size", "hotkey"],
          "description": "Automation action"
        },
        "x": {
          "type": "integer",
          "required": false,
          "description": "X coordinate"
        },
        "y": {
          "type": "integer",
          "required": false,
          "description": "Y coordinate"
        },
        "text": {
          "type": "string",
          "required": false,
          "description": "Text to type"
        },
        "key": {
          "type": "string",
          "required": false,
          "description": "Key to press"
        },
        "button": {
          "type": "string",
          "required": false,
          "default": "left",
          "enum": ["left", "right", "middle"],
          "description": "Mouse button"
        },
        "duration": {
          "type": "number",
          "required": false,
          "default": 0.25,
          "description": "Action duration in seconds"
        },
        "keys": {
          "type": "string",
          "required": false,
          "description": "Keys for hotkey action (e.g., 'alt+f4')"
        }
      }
    }
  ],
  "security": {
    "warning": "⚠️ THIS SERVER PROVIDES FULL SYSTEM ACCESS! USE WITH EXTREME CAUTION!",
    "recommendations": [
      "Use only in isolated environments or virtual machines",
      "Create full system backups before use",
      "Never use on production systems",
      "Review all operations in logs regularly",
      "Keep 'enable_dangerous_operations' set to false unless absolutely necessary"
    ],
    "dangerous_operations": [
      "Deleting system files",
      "Modifying Windows Registry",
      "Killing critical processes",
      "Executing arbitrary commands",
      "Changing network settings",
      "Creating scheduled tasks",
      "Modifying environment variables"
    ]
  },
  "configuration": {
    "log_directory": "~/.pc_control_mcp/logs",
    "max_file_size_mb": 100,
    "command_timeout_seconds": 30,
    "enable_dangerous_operations": false,
    "allowed_commands": [
      "ls", "dir", "pwd", "cd", "echo", "cat", "type", "grep", "find",
      "ps", "tasklist", "netstat", "ipconfig", "ifconfig", "ping",
      "systeminfo", "uname", "whoami", "hostname"
    ],
    "blocked_paths": [
      "/", "C:\\", "C:\\Windows", "C:\\Windows\\System32",
      "/System", "/usr/bin", "/etc", "/boot", "/proc", "/sys"
    ]
  }
}
